{% extends "base.html" %}

{% block title %}Kontakt - {{ concert_name or 'Klasskonsert 24C' }}{% endblock %}

{% block content %}
<div class="booking-container">
    <div class="booking-step">
        <h2>Kontaktformulär</h2>
        <p>Har du frågor om konserten eller behöver hjälp? Skicka oss ett meddelande så återkommer vi så snart som möjligt.</p>
        
        <form method="POST">
            <div class="form-group">
                <label for="name">Ditt namn *</label>
                <input type="text" id="name" name="name" required 
                       placeholder="Ditt fullständiga namn" 
                       value="{{ request.form.get('name', '') }}">
            </div>
            
            <div class="form-group">
                <label for="email">Din e-postadress *</label>
                <input type="email" id="email" name="email" required 
                       placeholder="din@email.com" 
                       value="{{ request.form.get('email', '') }}">
            </div>
            
            <div class="form-group">
                <label for="phone">Telefonnummer (valfritt)</label>
                <input type="tel" id="phone" name="phone" 
                       placeholder="070 123 45 67" 
                       value="{{ request.form.get('phone', '') }}">
            </div>
            
            <div class="form-group">
                <label for="subject">Ämne *</label>
                <select id="subject" name="subject" required>
                    <option value="">Välj ämne</option>
                    <option value="Biljettfrågor" {% if request.form.get('subject') == 'Biljettfrågor' %}selected{% endif %}>Biljettfrågor</option>
                    <option value="Betalningsproblem" {% if request.form.get('subject') == 'Betalningsproblem' %}selected{% endif %}>Betalningsproblem</option>
                    <option value="Tekniska problem" {% if request.form.get('subject') == 'Tekniska problem' %}selected{% endif %}>Tekniska problem</option>
                    <option value="Konsertinformation" {% if request.form.get('subject') == 'Konsertinformation' %}selected{% endif %}>Konsertinformation</option>
                    <option value="Annat" {% if request.form.get('subject') == 'Annat' %}selected{% endif %}>Annat</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="message">Meddelande *</label>
                <textarea id="message" name="message" required rows="6" 
                          placeholder="Beskriv ditt ärende så detaljerat som möjligt...">{{ request.form.get('message', '') }}</textarea>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" name="gdpr_consent" required>
                    Jag godkänner att mina uppgifter sparas och används för att hantera mitt ärende *
                </label>
            </div>
            
            <div class="step-actions">
                <button type="submit" class="btn btn-primary">Skicka meddelande</button>
            </div>
        </form>
        
        <div class="contact-info" style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.8); border-radius: 15px;">
            <h3>Kontaktinformation</h3>
            <p><strong>E-post:</strong> {{ contact_email }}</p>
            <p><strong>Svarstid:</strong> Vi återkommer vanligtvis inom 24 timmar</p>
            <p><strong>Telefon:</strong> Kontakta oss via e-post för telefonnummer</p>
        </div>
        
        <div class="help-links" style="margin-top: 30px; text-align: center;">
            <p>Behöver du hjälp med din bokning?</p>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="{{ url_for('public.find_booking') }}" class="btn btn-secondary">Hitta min bokning</a>
                <a href="{{ url_for('public.lost_tickets') }}" class="btn btn-secondary">Tappade biljetter?</a>
            </div>
        </div>
    </div>
</div>

<style>
textarea {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    font-family: inherit;
    resize: vertical;
    min-height: 120px;
}

textarea:focus {
    outline: none;
    border-color: #dc2626;
}

select {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    background-color: white;
}

select:focus {
    outline: none;
    border-color: #dc2626;
}

input[type="checkbox"] {
    margin-right: 8px;
}

@media (max-width: 768px) {
    .help-links div {
        flex-direction: column;
        align-items: center;
    }
    
    .help-links .btn {
        margin-bottom: 10px;
    }
}
</style>
{% endblock %}

