{% extends "base.html" %}

{% block content %}
<div class="success-container">
    <div class="success-message">
        <h2>Tack för din reservation!</h2>
        <p>Du har reserverat dina biljetter. Glöm inte att swisha summan till 070 123 45 67 för att bekräfta din plats.</p>
    </div>
    
    <div class="booking-details">
        <h3>Din bokning:</h3>
        <ul>
            <li><strong>Namn:</strong> {{ booking.full_name }}</li>
            <li><strong>E-post:</strong> {{ booking.email }}</li>
            <li><strong>Telefon:</strong> {{ booking.phone }}</li>
            <li><strong>Tid:</strong> {{ booking.show.start_time }}-{{ booking.show.end_time }}</li>
            <li><strong>Ordinarie biljetter:</strong> {{ booking.adult_tickets }} st</li>
            <li><strong>Studentbiljetter:</strong> {{ booking.student_tickets }} st</li>
            <li><strong>Totalt att betala:</strong> {{ booking.total_amount }} kr</li>
        </ul>
    </div>
    
    {% if not booking.buyer_confirmed_payment %}
    <div class="payment-confirmation">
        <h3>Bekräfta betalning</h3>
        <p>När du har swishat till 070 123 45 67, klicka på knappen nedan för att bekräfta:</p>
        
        <form method="POST" action="{{ url_for('public.confirm_payment', booking_id=booking.id) }}">
            <button type="submit" class="btn btn-primary">Jag har betalat via Swish</button>
        </form>
    </div>
    {% else %}
    <div class="payment-status">
        <p class="status-confirmed">✓ Betalning bekräftad av dig. Väntar på administratörens godkännande.</p>
    </div>
    {% endif %}
    
    <div class="actions">
        <a href="{{ url_for('public.index') }}" class="btn btn-secondary">Tillbaka till startsidan</a>
    </div>
</div>
{% endblock %}
